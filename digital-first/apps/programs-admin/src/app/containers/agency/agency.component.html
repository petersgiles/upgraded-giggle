<div *ngIf="agency; else loading" class="app-page">
    <section>
      <digital-first-page-title
        title="Agency - {{ agency.title }}">
        <digital-first-edit-item-button
          (onEditItem)="handleEditAgency(agency)"
        ></digital-first-edit-item-button>
        <digital-first-delete-item-button
          (onDeleteItem)="handleDeleteAgency(agency)"
        ></digital-first-delete-item-button>
      </digital-first-page-title>
  
      <div class="programsadmin-layout__row">
        <p>Title: {{ agency.title }}</p>    
        <p>Portfolio: {{ agency.portfolio.title }}</p>
        <p *ngIf="agency.metadata">Metadata: {{ agency.metadata }}</p>
      </div>
  
    </section>

    <section>
        <digital-first-page-title
        title="Group mapping">
        <digital-first-add-item-button
          (onAddItem)="handleAddAgencyMapping(agency)"
        ></digital-first-add-item-button>

      </digital-first-page-title>
  
      <div  class="programsadmin-layout__row">
          <digital-first-data-table
          [tableData]="agencyMappingTableData"
          [hasDeleteItemButton]="true"
          (onDeleteItem)="handleDeleteAgencyMapping($event)"
          (onCellClicked)="handleEditAgencyMapping($event)">
          </digital-first-data-table>
      </div>
  
    </section>


  </div>
  <ng-template #loading>
    Loading...
  </ng-template>
  