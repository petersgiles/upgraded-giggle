<div *ngIf="statistic; else loading" class="app-page">
  <df-expander-panel
    title="Statistic - {{ statistic.name }}"
    [expanded]="true"
    [expandable]="false"
  >
    <ng-container panel-buttons>
      <df-button
        icon="edit"
        title="Edit"
        (onClick)="handleEditStatistic(statistic)"
      ></df-button>
      <df-button
        icon="delete"
        title="Delete"
        (onClick)="handleDeleteStatistic(statistic)"
      ></df-button>
    </ng-container>
  </df-expander-panel>

  <div class="programsadmin-layout__row">
    <dl>
      <dt>
        Agency:
      </dt>
      <dd>
        {{ statistic.agency.title }}
      </dd>
      <dt>
        External id:
      </dt>
      <dd>
        {{ statistic.externalId }}
      </dd>
    </dl>
  </div>

  <digital-first-permission
    (onAddGroup)="handleOpenAddGroupDialog($event)"
    (onDeleteClicked)="handleGroupPermissionDeleteClicked($event)"
    (onGroupClicked)="handleGroupPermissionGroupClicked($event)"
    (onPermissionClicked)="handleGroupPermissionChangeClicked($event)"
    [artifactId]="statisticId"
    [rows]="permissionRows"
    [noDataMessage]="noDataMessage"
  ></digital-first-permission>

  <digital-first-statistic-reports
    [statisticreportsTableData]="statisticReportTableData"
    (onDeleteClicked)="handleStatisticReportDeleteItemClicked($event)"
  >
  </digital-first-statistic-reports>
</div>
<ng-template #loading>
  Loading...
</ng-template>
