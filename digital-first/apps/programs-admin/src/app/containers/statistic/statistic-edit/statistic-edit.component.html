<div *ngIf="(statistics$ | async) as statistics; else loading">
  <div class="page_title">
    <div class="reader-card-article__title page_title_text" mdcHeadline5>Edit statistic</div>
  </div>
  <div>
    <div class="app-page">
      <div class="mdc-layout-grid">
        <div class="mdc-layout-grid__inner ">
          <div class="mdc-layout-grid__cell--span-3"></div>
          <div class="mdc-layout-grid__cell--span-6 mdc-elevation--z9">
            <div class="form-content">
              <form (ngSubmit)="onSubmit()" [formGroup]="editStatisticForm" autocomplete="off">
                <fieldset>
                  <h3 class="form-content__headline">Edit statistic</h3>

                  <div class="form-layout__row">
                    <mdc-text-field [outlined]="true"
                                    formControlName="statisticName"
                                    label="Name"
                                    required
                                    type="text">
                    </mdc-text-field>
                  </div>
                  <div class="form-layout__row">
                    <mdc-select
                      [outlined]="true"
                      formControlName="agencyId"
                      id="agency"
                      name="program"
                      placeholder="Agency"
                      required>
                      <option value=""></option>
                      <option *ngFor="let agency of agencies" [value]="agency.id">{{agency.title}}
                      </option>
                    </mdc-select>
                  </div>
                  <div class="form-layout__row">
                    <mdc-text-field [outlined]="true"
                                    formControlName="externalId"
                                    label="External id"
                                    type="text">
                    </mdc-text-field>
                  </div>
                  <div class="form-layout__row-with-button">
                    <button [disabled]="editStatisticForm.invalid || editStatisticForm.prestine"
                            class="mdc-button ng-mdc-button--primary mdc-button--raised mdc-ripple-upgraded"
                            id="submit" type="submit">Save
                    </button>
                    <button (click)="cancel()"
                            class="mdc-button ng-mdc-button--secondary mdc-button--raised mdc-ripple-upgraded"
                            id="cancel" type="button">Cancel
                    </button>
                  </div>
                </fieldset>
              </form>
            </div>
          </div>
          <div class="mdc-layout-grid__cell--span-3"></div>
        </div>
      </div>
    </div>
  </div>
</div>
<ng-template #loading>
  Loading...
</ng-template>
