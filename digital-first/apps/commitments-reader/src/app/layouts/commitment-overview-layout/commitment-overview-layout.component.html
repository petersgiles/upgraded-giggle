<mdc-linear-progress [open]="isBusy$ | async"></mdc-linear-progress>
<div class="layout-page">
  <section>
    <div
      class="app-layout__row--no-wrap"
      style="height: calc(100vh - 112px) !important; overflow: hidden;"
    >
      <digital-first-metadata-refiner
        style="overflow-y:auto"
        [searchText]="textRefiner$ | async"
        [refinerGroups]="refinerGroups"
        (onSearchCriteriaChanged)="handleTextRefinerChanged($event)"
        (onClear)="handleClearRefiners($event)"
        (onRefinerGroupSelected)="handleRefinerGroupSelected($event)"
        (onRefinerSelected)="handleRefinerSelected($event)"
      ></digital-first-metadata-refiner>
      <div class="overview-outlet">
        <section>
          <mdc-drawer
            #drawer
            drawer="modal"
            [open]="
              refinerGroupWithDrawer && refinerGroupWithDrawer.enableSlide
            "
            *ngIf="refinerGroupWithDrawer"
            style="width: calc(100vw - 280px);left:280px; z-index: 10000000;"
          >
            <mdc-drawer-header>
              <h3 mdcDrawerTitle>Drawer Title</h3>
              <h6 mdcDrawerSubtitle>Subtitle</h6>
            </mdc-drawer-header>
            <mdc-drawer-content>
              <mdc-list>
                <mdc-list-item
                  *ngFor="let item of refinerGroupWithDrawer.children"
                >
                  {{ item.title }}
                </mdc-list-item>
              </mdc-list>
            </mdc-drawer-content>
          </mdc-drawer>
          <mdc-tab-bar [activeTabIndex]="activeTab" useAutomaticActivation>
            <mdc-tab-scroller>
              <mdc-tab
                *ngFor="let tab of tabs"
                [label]="tab.label"
                [icon]="tab.icon"
                [routerLink]="tab.link"
              ></mdc-tab>
            </mdc-tab-scroller>
          </mdc-tab-bar>
          <div class="app-layout__row--no-wrap">
            <router-outlet></router-outlet>
          </div>
        </section>
      </div>
    </div>
  </section>
</div>
