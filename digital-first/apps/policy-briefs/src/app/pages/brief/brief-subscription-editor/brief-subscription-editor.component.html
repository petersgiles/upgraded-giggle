<section *ngIf="brief$ | async as brief">
  <df-expander-panel
    [title]="brief.title"
    [background]="background$ | async"
    expandable="true"
    expanded="true"
  >
    <ng-container panel-buttons
      ><df-button
        title="View Brief"
        icon="subject"
        [background]="background$ | async"
        (onClick)="handleView($event)"
      ></df-button>
    </ng-container>

    <table class="shadow--2dp">
      <thead>
        <tr>
          <th colspan="2">
            &nbsp;
          </th>
          <th [attr.colspan]="(activities$ | async)?.length">
            <div class="align-center activity-column">Activities</div>
          </th>
          <th [attr.colspan]="(documentStatusList$ | async)?.length">
            <div class="align-center status-column">By Status</div>
          </th>
          <th></th>
        </tr>
        <tr>
          <th class="lower_left">
            <!-- <button mdcIconButton [on]="false">
              <mdc-icon mdcIconOn>check_box</mdc-icon>
              <mdc-icon>check_box_outline_blank</mdc-icon>
            </button> -->
          </th>
          <th>
            <div>
              User
            </div>
          </th>
          <th class="activity-column" *ngFor="let s of activities$ | async">
            <div>
              <span>{{ s.caption }}</span>
            </div>
          </th>
          <th class="status-column" *ngFor="let s of documentStatusList$ | async">
            <div>
              <span>{{ s.caption }}</span>
            </div>
          </th>
        </tr>
      </thead>
      <tr  *ngFor="let n of notifications$ | async">
        <td>
          <button mdcIconButton [on]="false">
            <mdc-icon mdcIconOn>check_box</mdc-icon>
            <mdc-icon>check_box_outline_blank</mdc-icon>
          </button>
        </td>
        <td>{{ n.name }}</td>
        <td style="text-align:center" class="activity-column" *ngFor="let s of activities$ | async">
          <button mdcIconButton [on]="checked(n.activity, s.id)">
            <mdc-icon mdcIconOn>radio_button_checked</mdc-icon>
            <mdc-icon>radio_button_unchecked</mdc-icon>
          </button>
        </td>
        <td
          style="text-align:center"
          class="status-column"
          *ngFor="let s of documentStatusList$ | async"
        >
          <button mdcIconButton [on]="checked(n.status, s.id)">
            <mdc-icon mdcIconOn>radio_button_checked</mdc-icon>
            <mdc-icon>radio_button_unchecked</mdc-icon>
          </button>
        </td>
      </tr>
    </table>
  </df-expander-panel>
</section>
